<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link type="text/css" rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=start" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=check" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=chat" />
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.156.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.156.0/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="index.js"></script>
    <script type="module" src = "secondthree.js"></script>
    
    
</head>
<body  class="overflow-hidden">
    <nav class="navbar navbar-light d-flex align-items-center" style="height:10%;width:100%">
        <div class="d-flex flex-rows px-4 justify-content-between text-white rounded-pill navbar-con container-fluid h-75" style="width:40%;">
          <div class="fw-bold title">
            Green Reaper
          </div>
          <div class="d-flex w-50 justify-content-center">
            <a class="navelement active">Home</a>
            <a class="navelement">About Us</a>
          </div>
          <div class="h-75 w-25 d-flex justify-content-end">
            <img src="pfp.png" class="rounded-pill" style="width:40px;height:40px;align-self:center">
          </div>
        </div>
      </nav>
    <div class="container-fluid p-0 main-con" style="height:87%;width:80%;">
        <div class="row g-0 h-100 " style="width:100%">
            <div class="d-flex flex-column g-0 h-100 col-6 p-5 right-con ">
                <div class="row g-0 ms-0 ps-0" style="height:6%">
                    <div class="col-12 h-100 d-flex justify-content-start">
                        <div>
                            <span class="border border-2 rounded-3 border-dark material-symbols-outlined fs-1" style="align-self: center;">
                                chat
                                </span>
                        </div>
                        <div class="ms-3">
                            <div class="col-12 sub-title">
                                Findings
                            </div>
                            <div class="col-12 sub-description">
                                Please wait 3-5 minutes for the information to complete.
                            </div>
                        </div>
                    </div>
                </div>
                <div id="analysis-section" class="row g-0 overflow-auto w-100" style="max-height: 100%;">     
                </div>
                <script>
                  document.addEventListener("DOMContentLoaded", function () {
                    const analysisHTML = sessionStorage.getItem("analysisData");
                
                    if (analysisHTML) {
                      document.getElementById("analysis-section").innerHTML = analysisHTML;
                    } else {
                      document.getElementById("analysis-section").innerHTML = "<p>No analysis data found.</p>";
                    }
                  });
                </script>
                
            </div>
            
            <div class="col-6 p-5 h-100 position-relative d-flex flex-column w-50">
                <div class="text-white right-child building-image d-flex flex-column">
                    <h5>Images</h5>
                    <div class="d-flex flex-row images-collection" style="overflow-x:auto;flex:1">
                        <img src = "Final/f_view.jpg">
                        <img src = "Final/2d_fplan.jpg">
    
                    </div>

                </div>
                <div class="text-white right-child building-model d-flex flex-column">
                    <h5>Model</h5>
                    <div class="d-flex align-items-center justify-content-center" style="flex:1">
                        <button class="btn btn-purple px-4" id="viewer-btn" data-bs-toggle="modal" data-bs-target="#threejs-modal">View 3d Model</button>
                    </div>
                </div>
                <div class="text-white right-child building-analysis d-flex flex-column w-100">
                    <h5>Analysis and Projections</h5>
                    <div class="d-flex flex-row w-100 align-items-center" style="flex:1">
                        <div class="analysis financial p-3 d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#financial-modal" style="background: linear-gradient(144deg, rgba(202, 202, 202, 0.35) -5.78%, rgba(227, 223, 93, 0.42) 37.35%, rgba(185, 207, 215, 0.70) 104.35%);
                        "><center><h3 class="italic">Financial Aspects</h3></center></div>
                        <div class="analysis sustainability p-2 d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#sustainability-modal" style="background: linear-gradient(144deg, rgba(202, 202, 202, 0.35) -5.78%, rgba(231, 136, 136, 0.42) 37.35%, rgba(185, 207, 215, 0.70) 104.35%);
                        "><center><h3 class="italic">Sustainability Aspects</h3></center></div>
                        <div class="analysis last-analysis durability p-3 d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#durability-modal" style="background: linear-gradient(144deg, rgba(202, 202, 202, 0.35) -5.78%, rgba(93, 140, 227, 0.42) 37.35%, rgba(185, 207, 215, 0.70) 104.35%);
                        "><center><h3 class="italic">Durability Aspects</h3></center></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="financial-modal"  aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              hello
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="sustainability-modal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              bye
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="durability-modal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              lmao
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="threejs-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">3D Model Viewer</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
              <!-- Three.js Container -->
              <div id="threejs-container" style="width: 100%; height: 70vh;"></div>
            </div>
            <div class="modal-footer">
              <div class="btn-group">
                <button id="rotate-btn" class="btn btn-sm btn-outline-secondary">Auto-Rotate</button>
                <button id="close-btn" class="btn btn-sm btn-outline-primary">Reset View</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    
</body>
</html>